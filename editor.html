<!DOCTYPE html>
<html lang="jp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <link rel="stylesheet" href="Paku2.css">
  <script type="text/javascript">
    function GetQueryString() {
      if (1 < document.location.search.length) {
        var query = document.location.search.substring(1)

        var parameters = query.split('&')

        var result = new Object();
        for (var i = 0; i < parameters.length; i++) {
          var element = parameters[i].split('=')

          var paramName = decodeURIComponent(element[0])
          var paramValue = decodeURIComponent(element[1])

          result[paramName] = paramValue
        }
        return result
      }
      return null
    }
  </script>
  <title>ぱくぱく</title>
</head>
<body>
  <h1>すて～じえでぃた</h1>
  <div id="elm-area"></div>
  <p>code:<a href="https://github.com/YuyaAizawa/Paku2">github.com/YuyaAizawa/Paku2</a></p>
  <script src="js/StageEditor.js"></script>
  <script>
    var param = GetQueryString()
    if (param == null) {
      param = new Object()
      param['stage'] = decodeURIComponent("WWWWWWWWWW%0d%0aW%40%20%20%20%2c%20%20%2bW%0d%0aW%20%20%20%2c%20C2%2cW%0d%0aW%20%20%20%20%20%3b%20%20W%0d%0aWG%20%2c%20%20%20%20%20W%0d%0aW%20%3c%20B%20%3e%2cGW%0d%0aWWWWWWWWWW")
    }
    const app = Elm.StageEditor.init({ node: document.getElementById("elm-area"), flags: { stage: param['stage'] }});

    app.ports.encodeUri.subscribe(function(str) {
      app.ports.onUriEncoded.send(encodeURIComponent(str));
    })

  </script>
</body>
</html>
